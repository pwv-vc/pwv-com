---
interface Props {
  currentPath?: string;
}

const { currentPath = '' } = Astro.props;

const navItems = [
  { href: '/explore/companies/', label: 'Companies', icon: 'ðŸ¢' },
  { href: '/explore/people/', label: 'People', icon: 'ðŸ‘¥' },
  { href: '/explore/quotes/', label: 'Quotes', icon: 'ðŸ’¬' },
];

const isActive = (href: string) => {
  // Normalize both paths for comparison
  const normalizedCurrent = currentPath.endsWith('/') ? currentPath : `${currentPath}/`;
  const normalizedHref = href.endsWith('/') ? href : `${href}/`;
  return normalizedCurrent === normalizedHref;
};

// Standard theme styles
const activeClass = 'border-pwv-green bg-pwv-green/10 text-pwv-black';
const inactiveClass = 'border-pwv-gray bg-white text-pwv-black hover:border-pwv-green/50 hover:bg-pwv-gray/20';
---

<nav class="mb-8 border-b border-pwv-gray pb-4">
  <div class="flex flex-wrap gap-2">
    {
      navItems.map((item) => (
        <a
          href={item.href}
          class={`inline-flex items-center gap-2 rounded-full border-2 px-4 py-2 text-sm font-medium transition-all ${
            isActive(item.href) ? activeClass : inactiveClass
          }`}
        >
          <span class="text-base">{item.icon}</span>
          <span>{item.label}</span>
        </a>
      ))
    }
  </div>
</nav>
