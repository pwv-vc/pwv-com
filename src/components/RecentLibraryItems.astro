---
import { getRecentLibraryPosts, getAllLibraryPosts } from '../lib/library';
import PostsGrid from './PostsGrid.astro';
import FeaturedPosts from './FeaturedPosts.astro';
import UnderlineDecoration from './UnderlineDecoration.astro';

const recentPosts = await getRecentLibraryPosts(6);
---

<section class="mx-auto px-4 sm:px-6 lg:px-8">
  <div class="relative mb-8">
    <h2 class="text-primary my-4 font-serif text-2xl font-bold lg:text-3xl">
      Latest insights and thoughts
    </h2>
    <p class="text-muted text-lg">
      Perspectives and announcements from PWV, our founders and community.
    </p>
    <UnderlineDecoration />
  </div>

  <div class="mt-12 mb-6">
    <FeaturedPosts limit={3} />
    <PostsGrid posts={recentPosts} size="large" />
  </div>

  <div class="mt-8 text-center">
    <a
      href="/library"
      class="bg-pwv-green text-pwv-light-green inline-flex items-center gap-2 rounded-lg px-5 py-2 text-sm"
    >
      More
      <svg
        class="h-4 w-4"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"></path>
      </svg>
    </a>
  </div>
</section>
