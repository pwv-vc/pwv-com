---
import { Image as UnpicImage } from '@unpic/astro';
import { resolveImageSrc } from '../lib/images';

interface Props {
  name: string;
  title: string;
  company: string;
  quote: string;
  url?: string;
  companySlug: string;
}

const { name, title, company, quote, url, companySlug } = Astro.props;
---

<div class="mb-4 flex h-full flex-col">
  <blockquote class="text-md non-italic my-4 flex-grow">
    "{quote}"
  </blockquote>
  <div class="flex flex-col">
    <cite class="font-mono font-semibold not-italic">
      {name}
    </cite>
    <div class="flex items-center gap-2 text-sm">
      {
        companySlug === 'anonymous' ? (
          <div class="h-4 w-4 flex-shrink-0 rounded" />
        ) : (
          <UnpicImage
            src={resolveImageSrc(`logos/small/${companySlug}.png`)}
            alt={`${company} logo`}
            width={16}
            height={16}
            class="flex-shrink-0 border p-0.5"
          />
        )
      }
      <span>
        {title},{' '}
        {
          url ? (
            <a href={url} class="hover:underline">
              {company}
            </a>
          ) : (
            company
          )
        }
      </span>
    </div>
  </div>
</div>
